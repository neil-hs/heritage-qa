# PRD 2.1: YAML Config Parser

## Overview
Parse YAML configuration files into typed ProjectSpec objects.

## Deliverables
- `src/config/parse-config.ts`

## Interface

```typescript
export interface ParseResult {
  success: boolean;
  config?: ProjectSpec;
  errors: ParseError[];
}

export interface ParseError {
  line?: number;
  column?: number;
  message: string;
}

export function parseConfig(configPath: string): Promise<ParseResult>;
export function parseConfigString(yaml: string): ParseResult;
```

## Behavior
- Read YAML file from disk
- Parse using `yaml` library
- Return typed ProjectSpec or errors
- Handle malformed YAML gracefully
- Strip `$schema` reference before parsing

## Error Handling
- File not found → clear error message
- Invalid YAML syntax → line/column info
- Empty file → error
- Non-object root → error

## Example

```typescript
const result = await parseConfig('./project-spec.yaml');
if (result.success) {
  console.log(result.config.project.name);
} else {
  console.error(result.errors);
}
```

## Success Criteria
- [ ] Parses valid YAML files
- [ ] Returns typed ProjectSpec
- [ ] Graceful error handling
- [ ] Preserves YAML comments (for round-trip if needed)
- [ ] Unit tests for valid/invalid configs

## Dependencies
- PRD 1.1 (project setup - yaml dep)
- PRD 1.3 (TypeScript types)
