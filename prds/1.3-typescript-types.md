# PRD 1.3: TypeScript Type Definitions

## Overview
Define core TypeScript interfaces for the entire application.

## Deliverables
- `src/types/index.ts` - All shared types
- `src/types/config.ts` - Configuration types
- `src/types/validation.ts` - Validation result types
- `src/types/exif.ts` - EXIF data types

## Core Types

### config.ts
```typescript
export type FileType = 'TIFF' | 'RAW' | 'JPEG' | 'PNG';
export type BitDepth = 8 | 16 | 32;
export type Severity = 'critical' | 'fixable' | 'warning';
export type ValidationStatus = 'pass' | 'fail' | 'warning' | 'skip';

export interface ProjectSpec {
  project: {
    name: string;
    client?: string;
    description?: string;
    date?: string;
  };
  format: {
    file_type: FileType;
    allowed_extensions: string[];
    enforce_single_type?: boolean;
    compression?: string;
    raw_format?: string;
  };
  dimensions?: {
    min_long_edge?: number;
    min_short_edge?: number;
    max_long_edge?: number;
    max_short_edge?: number;
    exact_dimensions?: boolean;
  };
  color?: {
    bit_depth: BitDepth;
    color_space?: string;
    icc_profile?: string;
  };
  required_exif?: RequiredExifTag[];
  validation: {
    run_jhove: boolean;
    check_raw_validity?: boolean;
    mixed_formats?: boolean;
  };
  naming?: {
    pattern?: string;
    allow_spaces?: boolean;
    required_prefix?: string;
  };
}

export interface RequiredExifTag {
  tag: string;
  expected_value?: string;
  allow_variations?: boolean;
}
```

### validation.ts
```typescript
export interface ValidationResult {
  imageId: number;
  runId: number;
  checkType: CheckType;
  status: ValidationStatus;
  severity?: Severity;
  message?: string;
  details?: Record<string, unknown>;
}

export type CheckType = 'jhove' | 'exif' | 'dimension' | 'color' | 'naming' | 'raw_validity';

export interface ValidationSummary {
  runId: number;
  version: number;
  total: number;
  passed: number;
  failed: number;
  warnings: number;
  byCheckType: Record<CheckType, { pass: number; fail: number }>;
  bySeverity: Record<Severity, number>;
}

export interface ValidationRun {
  id: number;
  version: number;
  configHash: string;
  startedAt: Date;
  completedAt?: Date;
  summary?: ValidationSummary;
}
```

### exif.ts
```typescript
export interface ExifData {
  ImageWidth?: number;
  ImageHeight?: number;
  BitsPerSample?: number;
  ColorSpace?: string;
  ICCProfile?: string;
  Make?: string;
  Model?: string;
  Artist?: string;
  DateTime?: string;
  [key: string]: unknown;
}

export interface ImageInfo {
  id: number;
  filepath: string;
  filename: string;
  extension: string;
  fileType: FileType;
  fileSize: number;
  exif?: ExifData;
}
```

## Success Criteria
- [x] All types compile without errors
- [x] Types exported from `src/types/index.ts`
- [x] JSDoc comments on complex types
- [x] No `any` types (use `unknown` if needed)

## Dependencies
- PRD 1.1 (project setup)
